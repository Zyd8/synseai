{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/synseai/project/frontend/src/components/DashboardSidebar.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function DashboardSidebar() {\r\n  const pathname = usePathname();\r\n  const [role, setRole] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const storedRole = sessionStorage.getItem(\"role\");\r\n    setRole(storedRole);\r\n  }, []);\r\n\r\n  // Menus\r\n  const collabMenu = [\r\n    { href: \"/dashboard\", icon: \"/images/Sidebar_home.png\", label: \"Home\" },\r\n    { href: \"/collabapproved\", icon: \"/images/Folder_check.png\", label: \"Approved\" },\r\n    { href: \"/collabinprocess\", icon: \"/images/folder-send.png\", label: \"In Process\" },\r\n    { href: \"/collabrejected\", icon: \"/images/Folder_del.png\", label: \"Rejected\" },\r\n  ];\r\n\r\n  const employeeMenu = [\r\n    { href: \"/bpidashboard\", icon: \"/images/Sidebar_home.png\", label: \"Home\" },\r\n    { href: \"/bpiapproved\", icon: \"/images/Folder_check.png\", label: \"Approved\" },\r\n    { href: \"/bpiinprocess\", icon: \"/images/folder-send.png\", label: \"In Process\" },\r\n    { href: \"/bpirejected\", icon: \"/images/Folder_del.png\", label: \"Rejected\" },\r\n    { href: \"/bpifilesviewer\", icon: \"/images/Folder_del.png\", label: \"FileViewer\" },\r\n    { href: \"/companylist\", icon: \"/images/building-03.png\", label: \"Collaborators\" },\r\n    { href: \"/bpifindcollab\", icon: \"/images/peer-to-peer-02.png\", label: \"Find Collaborators\" },\r\n  ];\r\n\r\n  const adminMenu = [\r\n    { href: \"/admindashboard\", icon: \"/images/Sidebar_home.png\", label: \"Home\" },\r\n    { href: \"/bpiapproved\", icon: \"/images/Folder_check.png\", label: \"Approved\" },\r\n    { href: \"/bpiinprocess\", icon: \"/images/folder-send.png\", label: \"In Process\" },\r\n    { href: \"/bpirejected\", icon: \"/images/Folder_del.png\", label: \"Rejected\" },\r\n    { href: \"/adminfilesviewer\", icon: \"/images/Folder_del.png\", label: \"FileViewer\" },\r\n    { href: \"/companylist\", icon: \"/images/building-03.png\", label: \"Collaborators\" },\r\n    { href: \"/bpifindcollab\", icon: \"/images/peer-to-peer-02.png\", label: \"Find Collaborators\" },\r\n  ];\r\n\r\n  const menuItems =\r\n    role === \"user\" ? collabMenu : role === \"employee\" ? employeeMenu : role === \"admin\" ? adminMenu : [];\r\n\r\n  return (\r\n    <motion.aside\r\n      initial={{ x: -250, opacity: 0 }}\r\n      animate={{ x: 0, opacity: 1 }}\r\n      exit={{ x: -250, opacity: 0 }}\r\n      transition={{\r\n        duration: 0.2,\r\n        ease: [0.25, 0.1, 0.25, 1], // smooth cubic-bezier\r\n      }}\r\n      className=\"pl-4 group relative bg-white border-r flex flex-col items-center items-start py-4 space-y-6 w-20 hover:w-56 transition-all duration-300 overflow-hidden\"\r\n    >\r\n      {/* Logo */}\r\n      <div className=\"flex items-center gap-3 pl-1\">\r\n        <img src=\"/logo/synsei_icon.png\" alt=\"Logo\" className=\"w-10\" />\r\n        <span className=\"text-lg font-bold text-gray-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200\">\r\n          Synsei\r\n        </span>\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <nav className=\"flex flex-col space-y-2 w-[92%]\">\r\n        {menuItems.map((item, index) => (\r\n          <a\r\n            key={index}\r\n            href={item.href}\r\n            className={`flex items-center gap-3 rounded-lg transition-all duration-200\r\n              ${pathname === item.href ? \"bg-[#FEC2C5]\" : \"hover:bg-gray-100\"}\r\n              px-2 py-2 w-12 group-hover:w-full`}\r\n          >\r\n            <img src={item.icon} alt={item.label} className=\"w-8 h-8\" />\r\n            <span className=\"opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap\">\r\n              {item.label}\r\n            </span>\r\n          </a>\r\n        ))}\r\n      </nav>\r\n    </motion.aside>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAEhD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,aAAa,eAAe,OAAO,CAAC;QAC1C,QAAQ;IACV,GAAG,EAAE;IAEL,QAAQ;IACR,MAAM,aAAa;QACjB;YAAE,MAAM;YAAc,MAAM;YAA4B,OAAO;QAAO;QACtE;YAAE,MAAM;YAAmB,MAAM;YAA4B,OAAO;QAAW;QAC/E;YAAE,MAAM;YAAoB,MAAM;YAA2B,OAAO;QAAa;QACjF;YAAE,MAAM;YAAmB,MAAM;YAA0B,OAAO;QAAW;KAC9E;IAED,MAAM,eAAe;QACnB;YAAE,MAAM;YAAiB,MAAM;YAA4B,OAAO;QAAO;QACzE;YAAE,MAAM;YAAgB,MAAM;YAA4B,OAAO;QAAW;QAC5E;YAAE,MAAM;YAAiB,MAAM;YAA2B,OAAO;QAAa;QAC9E;YAAE,MAAM;YAAgB,MAAM;YAA0B,OAAO;QAAW;QAC1E;YAAE,MAAM;YAAmB,MAAM;YAA0B,OAAO;QAAa;QAC/E;YAAE,MAAM;YAAgB,MAAM;YAA2B,OAAO;QAAgB;QAChF;YAAE,MAAM;YAAkB,MAAM;YAA+B,OAAO;QAAqB;KAC5F;IAED,MAAM,YAAY;QAChB;YAAE,MAAM;YAAmB,MAAM;YAA4B,OAAO;QAAO;QAC3E;YAAE,MAAM;YAAgB,MAAM;YAA4B,OAAO;QAAW;QAC5E;YAAE,MAAM;YAAiB,MAAM;YAA2B,OAAO;QAAa;QAC9E;YAAE,MAAM;YAAgB,MAAM;YAA0B,OAAO;QAAW;QAC1E;YAAE,MAAM;YAAqB,MAAM;YAA0B,OAAO;QAAa;QACjF;YAAE,MAAM;YAAgB,MAAM;YAA2B,OAAO;QAAgB;QAChF;YAAE,MAAM;YAAkB,MAAM;YAA+B,OAAO;QAAqB;KAC5F;IAED,MAAM,YACJ,SAAS,SAAS,aAAa,SAAS,aAAa,eAAe,SAAS,UAAU,YAAY,EAAE;IAEvG,qBACE,8OAAC,0LAAA,CAAA,SAAM,CAAC,KAAK;QACX,SAAS;YAAE,GAAG,CAAC;YAAK,SAAS;QAAE;QAC/B,SAAS;YAAE,GAAG;YAAG,SAAS;QAAE;QAC5B,MAAM;YAAE,GAAG,CAAC;YAAK,SAAS;QAAE;QAC5B,YAAY;YACV,UAAU;YACV,MAAM;gBAAC;gBAAM;gBAAK;gBAAM;aAAE;QAC5B;QACA,WAAU;;0BAGV,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,KAAI;wBAAwB,KAAI;wBAAO,WAAU;;;;;;kCACtD,8OAAC;wBAAK,WAAU;kCAAoG;;;;;;;;;;;;0BAMtH,8OAAC;gBAAI,WAAU;0BACZ,UAAU,GAAG,CAAC,CAAC,MAAM,sBACpB,8OAAC;wBAEC,MAAM,KAAK,IAAI;wBACf,WAAW,CAAC;cACV,EAAE,aAAa,KAAK,IAAI,GAAG,iBAAiB,oBAAoB;+CAC/B,CAAC;;0CAEpC,8OAAC;gCAAI,KAAK,KAAK,IAAI;gCAAE,KAAK,KAAK,KAAK;gCAAE,WAAU;;;;;;0CAChD,8OAAC;gCAAK,WAAU;0CACb,KAAK,KAAK;;;;;;;uBARR;;;;;;;;;;;;;;;;AAejB","debugId":null}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/synseai/project/frontend/src/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\ninterface ProtectedRouteProps {\r\n  children: React.ReactNode;\r\n  allowedRoles: string[]; // e.g. [\"user\", \"employee\"]\r\n}\r\n\r\nexport default function ProtectedRoute({ children, allowedRoles }: ProtectedRouteProps) {\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const token = sessionStorage.getItem(\"access_token\");\r\n    const role = sessionStorage.getItem(\"role\");\r\n\r\n    if (!token || !role) {\r\n      router.push(\"/login\");\r\n      return;\r\n    }\r\n\r\n    if (!allowedRoles.includes(role)) {\r\n      router.push(\"/\"); // redirect if role not allowed\r\n      return;\r\n    }\r\n\r\n    setLoading(false);\r\n  }, [router, allowedRoles]);\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AASe,SAAS,eAAe,EAAE,QAAQ,EAAE,YAAY,EAAuB;IACpF,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ,eAAe,OAAO,CAAC;QACrC,MAAM,OAAO,eAAe,OAAO,CAAC;QAEpC,IAAI,CAAC,SAAS,CAAC,MAAM;YACnB,OAAO,IAAI,CAAC;YACZ;QACF;QAEA,IAAI,CAAC,aAAa,QAAQ,CAAC,OAAO;YAChC,OAAO,IAAI,CAAC,MAAM,+BAA+B;YACjD;QACF;QAEA,WAAW;IACb,GAAG;QAAC;QAAQ;KAAa;IAEzB,qBAAO;kBAAG;;AACZ","debugId":null}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/synseai/project/frontend/src/app/bpiapproved/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Sidebar from \"@/components/DashboardSidebar\";\r\nimport ProtectedRoute from \"@/components/ProtectedRoute\";\r\nimport CollabCompanyProtectedRoute from \"@/components/CollabCompanyProtectedRoute\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function BpiApproved() {\r\n    const API = process.env.NEXT_PUBLIC_API_URL;\r\n    const [proposals, setProposals] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchAllProposals = async () => {\r\n            const token = sessionStorage.getItem(\"access_token\");\r\n            try {\r\n                const res = await fetch(`${API}/api/proposal?status=APPROVED`, {\r\n                    headers: {\r\n                        Authorization: `Bearer ${token}`,\r\n                        \"Content-Type\": \"application/json\",\r\n                    },\r\n                });\r\n\r\n                if (!res.ok) throw new Error(\"Failed to fetch proposals\");\r\n                const data = await res.json();\r\n\r\n                // Extract proposals from the response structure\r\n                const proposalsList = data.proposals || [];\r\n                setProposals(Array.isArray(proposalsList) ? proposalsList : []);\r\n            } catch (err) {\r\n                console.error(\"Error fetching proposals:\", err);\r\n                setProposals([]);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchAllProposals();\r\n    }, [API]);\r\n\r\n    const formatDate = (dateString: string) => {\r\n        const date = new Date(dateString);\r\n        return `${date.toLocaleDateString(\"en-US\", {\r\n            year: \"numeric\",\r\n            month: \"long\",\r\n            day: \"numeric\",\r\n        })} | ${date.toLocaleTimeString(\"en-US\", {\r\n            hour: \"numeric\",\r\n            minute: \"2-digit\",\r\n            hour12: true,\r\n        })}`;\r\n    };\r\n\r\n    return (\r\n        <ProtectedRoute allowedRoles={[\"employee\", \"admin\"]}>\r\n           \r\n                <div className=\"flex min-h-screen bg-gray-50 overflow-x-hidden\">\r\n                    {/* Sidebar */}\r\n                    <Sidebar />\r\n\r\n                    {/* Main content */}\r\n                    <div className=\"flex-1 py-3 sm:py-6 pl-[2%] sm:pl-[3%] pr-[3%] sm:pr-[5%] overflow-x-auto\">\r\n                        <h1 className=\"text-2xl font-bold text-red-700\">Approved Proposals</h1>\r\n                        <p className=\"text-sm text-gray-600 mt-1 border-b-3 border-black pb-2 sm:pb-4 border-red-700\">\r\n                            Track all your collaboration proposals that have been approved with BPI.\r\n                        </p>\r\n\r\n                        <div className=\"border border-gray-500 rounded-lg p-5 bg-white drop-shadow-xl mt-5\">\r\n                            <div className=\"overflow-x-auto\">\r\n                                {loading ? (\r\n                                    <p className=\"text-center text-gray-500\">Loading proposals...</p>\r\n                                ) : proposals.length === 0 ? (\r\n                                    <p className=\"text-center text-gray-500\">No approved proposals found.</p>\r\n                                ) : (\r\n                                <table className=\"w-full text-sm rounded-lg overflow-hidden min-w-[600px]\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th className=\"p-3 text-left text-red-700 whitespace-nowrap\">Proposal ID</th>\r\n                                            <th className=\"p-3 text-left text-red-700 whitespace-nowrap\">Proposal Title</th>\r\n                                            <th className=\"p-3 text-left text-red-700 whitespace-nowrap\">Status</th>\r\n                                            <th className=\"p-3 text-left text-red-700 whitespace-nowrap\">Approved Date</th>\r\n                                            <th className=\"p-3 text-center text-red-700 whitespace-nowrap\">Action</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {proposals.map((p, i) => (\r\n                                                <tr key={i} className=\"border-t\">\r\n                                                    <td className=\"p-3 whitespace-nowrap\">{p.id}</td>\r\n                                                    <td className=\"p-3\">{p.title}</td>\r\n                                                    <td className=\"p-3\">{p.status}</td>\r\n                                                    <td className=\"p-3 whitespace-nowrap\">{formatDate(p.updated_at || p.created_at)}</td>\r\n                                                    <td className=\"p-3 text-center\">⋮</td>\r\n                                                </tr>\r\n                                            )\r\n                                        )}\r\n                                    </tbody>\r\n                                </table>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n           \r\n        </ProtectedRoute>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOe,SAAS;IACpB,MAAM;IACN,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,oBAAoB;YACtB,MAAM,QAAQ,eAAe,OAAO,CAAC;YACrC,IAAI;gBACA,MAAM,MAAM,MAAM,MAAM,GAAG,IAAI,6BAA6B,CAAC,EAAE;oBAC3D,SAAS;wBACL,eAAe,CAAC,OAAO,EAAE,OAAO;wBAChC,gBAAgB;oBACpB;gBACJ;gBAEA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;gBAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;gBAE3B,gDAAgD;gBAChD,MAAM,gBAAgB,KAAK,SAAS,IAAI,EAAE;gBAC1C,aAAa,MAAM,OAAO,CAAC,iBAAiB,gBAAgB,EAAE;YAClE,EAAE,OAAO,KAAK;gBACV,QAAQ,KAAK,CAAC,6BAA6B;gBAC3C,aAAa,EAAE;YACnB,SAAU;gBACN,WAAW;YACf;QACJ;QAEA;IACJ,GAAG;QAAC;KAAI;IAER,MAAM,aAAa,CAAC;QAChB,MAAM,OAAO,IAAI,KAAK;QACtB,OAAO,GAAG,KAAK,kBAAkB,CAAC,SAAS;YACvC,MAAM;YACN,OAAO;YACP,KAAK;QACT,GAAG,GAAG,EAAE,KAAK,kBAAkB,CAAC,SAAS;YACrC,MAAM;YACN,QAAQ;YACR,QAAQ;QACZ,IAAI;IACR;IAEA,qBACI,8OAAC,oIAAA,CAAA,UAAc;QAAC,cAAc;YAAC;YAAY;SAAQ;kBAE3C,cAAA,8OAAC;YAAI,WAAU;;8BAEX,8OAAC,sIAAA,CAAA,UAAO;;;;;8BAGR,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAG,WAAU;sCAAkC;;;;;;sCAChD,8OAAC;4BAAE,WAAU;sCAAiF;;;;;;sCAI9F,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAI,WAAU;0CACV,wBACG,8OAAC;oCAAE,WAAU;8CAA4B;;;;;2CACzC,UAAU,MAAM,KAAK,kBACrB,8OAAC;oCAAE,WAAU;8CAA4B;;;;;yDAE7C,8OAAC;oCAAM,WAAU;;sDACb,8OAAC;sDACG,cAAA,8OAAC;;kEACG,8OAAC;wDAAG,WAAU;kEAA+C;;;;;;kEAC7D,8OAAC;wDAAG,WAAU;kEAA+C;;;;;;kEAC7D,8OAAC;wDAAG,WAAU;kEAA+C;;;;;;kEAC7D,8OAAC;wDAAG,WAAU;kEAA+C;;;;;;kEAC7D,8OAAC;wDAAG,WAAU;kEAAiD;;;;;;;;;;;;;;;;;sDAGvE,8OAAC;sDACI,UAAU,GAAG,CAAC,CAAC,GAAG,kBACX,8OAAC;oDAAW,WAAU;;sEAClB,8OAAC;4DAAG,WAAU;sEAAyB,EAAE,EAAE;;;;;;sEAC3C,8OAAC;4DAAG,WAAU;sEAAO,EAAE,KAAK;;;;;;sEAC5B,8OAAC;4DAAG,WAAU;sEAAO,EAAE,MAAM;;;;;;sEAC7B,8OAAC;4DAAG,WAAU;sEAAyB,WAAW,EAAE,UAAU,IAAI,EAAE,UAAU;;;;;;sEAC9E,8OAAC;4DAAG,WAAU;sEAAkB;;;;;;;mDAL3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBzD","debugId":null}}]
}