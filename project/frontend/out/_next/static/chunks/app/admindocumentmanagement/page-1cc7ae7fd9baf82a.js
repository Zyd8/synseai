(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9236],{342:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(5155),n=s(9460),a=s(9053),l=s(2115),o=s(5695),i=s(9911);function c(){let e="http://127.0.0.1:5000",[t,s]=(0,l.useState)([]),[c,d]=(0,l.useState)([]),[m,p]=(0,l.useState)([]),[u,h]=(0,l.useState)(!0),[g,x]=(0,l.useState)(new Set),[f,b]=(0,l.useState)(!1),[y,j]=(0,l.useState)(!1),[w,v]=(0,l.useState)(!1),[N,_]=(0,l.useState)(""),[k,S]=(0,l.useState)("all"),[C,D]=(0,l.useState)("all"),[O,A]=(0,l.useState)(null),[E,P]=(0,l.useState)("");(0,o.useRouter)();let[F,z]=(0,l.useState)([]),[I,T]=(0,l.useState)("all"),[B,U]=(0,l.useState)({name:"",type:"team",description:"",is_bpi:!1,proposal_id:"",file:null}),L=[...t.map(e=>({...e,is_assigned:!1,assignedDepartment:"Unassigned",assignedDepartmentId:null})),...c.map(e=>{let t=m.find(t=>String(t.document_id)===String(e.id)),s=t?Number(t.current_location):null,r="Unassigned";if(s){let e=F.find(e=>Number(e.id)===s);e&&(r=e.name)}return{...e,is_assigned:!0,assignedDepartment:r,assignedDepartmentId:s||null}})].filter(e=>{let t=(e.name||"").toLowerCase().includes((N||"").toLowerCase())||(e.description||"").toLowerCase().includes((N||"").toLowerCase()),s="all"===k||e.type===k,r="all"===C||"assigned"===C&&e.is_assigned||"unassigned"===C&&!e.is_assigned,n="all"===I||e.assignedDepartmentId&&String(e.assignedDepartmentId)===String(I);return t&&s&&r&&n});console.log("Filtered Documents: ",L);let R=c.length;console.log("Assigned Count: ",R);let W=t.length;console.log("Unassigned Count: ",W);let H=async()=>{let t=sessionStorage.getItem("access_token");if(!B.name||!B.type||!B.file)return void alert("Please fill in all required fields");let r=new FormData;r.append("name",B.name),r.append("type",B.type),r.append("description",B.description),r.append("is_bpi",B.is_bpi.toString()),r.append("proposal_id",B.proposal_id||""),r.append("file",B.file);try{let n=await fetch("".concat(e,"/api/document/upload_file"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:r});if(!n.ok){let e=await n.json();throw Error(e.error||"Failed to upload document")}let a=await n.json(),l={id:a.file.id,name:a.file.name,file_url:a.file.file,type:a.file.type,description:a.file.description,is_bpi:a.file.is_bpi,is_assigned:a.file.is_assigned||!1,proposal_id:a.file.proposal_id,created_at:a.file.created_at||new Date().toISOString(),download_url:"/api/document/download_file/".concat(a.file.id),view_url:"/api/document/view_file/".concat(a.file.id)};s(e=>[l,...e]),U({name:"",type:"team",description:"",is_bpi:!1,proposal_id:"",file:null}),b(!1),alert("Document uploaded successfully!")}catch(e){console.error("Error uploading document:",e),alert("Error uploading document: ".concat(e instanceof Error?e.message:"Unknown error"))}},M=async()=>{if(0===g.size||!E)return void alert("Please select documents and a department");let r=sessionStorage.getItem("access_token");try{let n=Array.from(g).map(async t=>{let s=await fetch("".concat(e,"/api/document_setting/upload_document_setting"),{method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify({document_id:t,iteration:[parseInt(E)]})});if(!s.ok)throw Error("Failed to assign document ".concat(t));return s.json()});await Promise.all(n);let a=await fetch("".concat(e,"/api/document_setting/get_all"),{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});if(a.ok){let e=await a.json();p(e||[]);let r=new Set(Array.from(g)),n=t.filter(e=>r.has(e.id));s(e=>e.filter(e=>!r.has(e.id))),d(e=>[...e,...n])}x(new Set),P(""),j(!1),alert("Documents assigned to department successfully!")}catch(e){console.error("Error in bulk assignment:",e),alert("Error in bulk assignment: ".concat(e instanceof Error?e.message:"Unknown error"))}},q=async()=>{if(!O)return;let t=sessionStorage.getItem("access_token");try{let r=await fetch("".concat(e,"/api/document/").concat(O.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to delete document")}s(e=>e.filter(e=>e.id!==O.id)),d(e=>e.filter(e=>e.id!==O.id)),p(e=>e.filter(e=>e.document_id!==O.id)),alert("Document deleted successfully!")}catch(e){console.error("Error deleting document:",e),alert("Error deleting document: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{v(!1),A(null)}},V=()=>{x(new Set(L.map(e=>e.id)))},J=()=>{x(new Set)};return(0,l.useEffect)(()=>{(async()=>{let t=sessionStorage.getItem("access_token");if(!t){console.error("No access token found"),h(!1);return}if(!e){console.error("API URL is not defined"),h(!1);return}try{let r=await fetch("".concat(e,"/api/document/get_unassigned"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}}),n=[];r.ok?(n=(n=await r.json()).map(e=>({...e,is_assigned:!1})),console.log("Unassigned documents fetched:",n.length)):console.error("Unassigned fetch failed:",r.status),console.log("Fetching assigned documents:","".concat(e,"/api/document/get_assigned"));let a=await fetch("".concat(e,"/api/document/get_assigned"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}}),l=[];a.ok?(l=(l=await a.json()).map(e=>({...e,is_assigned:!0})),console.log("Assigned documents fetched:",l.length)):console.error("Assigned fetch failed:",a.status),s(n),d(l),console.log("Fetching document settings:","".concat(e,"/api/document_setting/get_all"));let o=await fetch("".concat(e,"/api/document_setting/get_all"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(o.ok){let e=await o.json();p(e||[]),console.log("Document settings fetched:",e.length)}else console.error("Document settings fetch failed:",o.status);console.log("Fetching departments:","".concat(e,"/api/department"));let i=await fetch("".concat(e,"/api/department"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(i.ok){let e=await i.json();z(e.departments||[])}else{let e=await i.text();console.error("Department fetch error:",e)}}catch(e){console.error("Error fetching data:",e),s([]),d([]),p([]),z([])}finally{h(!1)}})()},[e]),(0,r.jsxs)(a.A,{allowedRoles:["admin"],children:[(0,r.jsxs)("div",{className:"flex min-h-screen overflow-x-hidden",children:[(0,r.jsx)(n.A,{}),(0,r.jsxs)("div",{className:"flex-1 py-3 sm:py-6 pl-[2%] sm:pl-[3%] pr-[3%] sm:pr-[5%] overflow-x-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-red-700",children:"Document Management"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1 border-b-3 border-black pb-2 sm:pb-4 border-red-700",children:"Manage documents, assign to departments, and control document access across the system."}),(0,r.jsxs)("div",{className:"mt-5 grid grid-cols-1 sm:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-500 text-center drop-shadow-md",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:R+W}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Total Documents"}),(0,r.jsx)(i.t69,{className:"text-3xl text-blue-600 mx-auto mt-2"})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-500 text-center drop-shadow-md",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:R}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Assigned"}),(0,r.jsx)(i.ymh,{className:"text-3xl text-green-600 mx-auto mt-2"})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-500 text-center drop-shadow-md",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-yellow-500",children:t.filter(e=>!e.is_assigned).length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Unassigned"}),(0,r.jsx)(i.M1W,{className:"text-3xl text-yellow-500 mx-auto mt-2"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-500 p-5 mt-5 mb-5 drop-shadow-md",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[#B11016] mb-2",children:"Search Documents"}),(0,r.jsx)("input",{type:"text",placeholder:"Search by name or description...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",value:N,onChange:e=>_(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[#B11016] mb-2",children:"Filter by Type"}),(0,r.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",value:k,onChange:e=>S(e.target.value),children:[(0,r.jsx)("option",{value:"all",children:"All Types"}),(0,r.jsx)("option",{value:"team",children:"Team"}),(0,r.jsx)("option",{value:"proposal",children:"Proposal"}),(0,r.jsx)("option",{value:"others",children:"Others"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[#B11016] mb-2",children:"Filter by Status"}),(0,r.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",value:C,onChange:e=>D(e.target.value),children:[(0,r.jsx)("option",{value:"all",children:"All Status"}),(0,r.jsx)("option",{value:"assigned",children:"Assigned"}),(0,r.jsx)("option",{value:"unassigned",children:"Unassigned"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[#B11016] mb-2",children:"Filter by Department"}),(0,r.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",value:I,onChange:e=>T(e.target.value),children:[(0,r.jsx)("option",{value:"all",children:"All Departments"}),F.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[#B11016] mb-1",children:"Actions"}),(0,r.jsx)("button",{onClick:()=>b(!0),className:"w-full px-4 mt-0.5 py-2.5 bg-[#B11016] border border-2 text-white rounded-md hover:bg-white hover:border-[#B11016] hover:text-[#B11016] transition text-sm",children:"Upload Document"})]})]}),g.size>0&&(0,r.jsx)("div",{className:"border-t pt-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[g.size," document(s) selected"]}),Array.from(g).some(e=>t.some(t=>t.id===e))&&(0,r.jsx)("button",{onClick:()=>j(!0),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Assign to Department"}),(0,r.jsx)("button",{onClick:V,className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:"Select All"}),(0,r.jsx)("button",{onClick:J,className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Clear Selection"})]})})]}),(0,r.jsx)("div",{className:"border border-gray-500 rounded-lg p-5 bg-white drop-shadow-xl",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:u?(0,r.jsx)("p",{className:"text-center text-gray-500",children:"Loading documents..."}):0===L.length?(0,r.jsx)("p",{className:"text-center text-gray-500",children:"No documents found."}):(0,r.jsxs)("table",{className:"w-full text-sm rounded-lg overflow-hidden min-w-[1200px]",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"p-3 text-left text-red-700 whitespace-nowrap",children:(0,r.jsx)("input",{type:"checkbox",onChange:g.size===L.length?J:V,checked:g.size===L.length&&L.length>0,className:"rounded border-gray-300"})}),(0,r.jsx)("th",{className:"p-3 text-left text-red-700 whitespace-nowrap",children:"ID"}),(0,r.jsx)("th",{className:"p-3 text-left text-red-700 whitespace-nowrap",children:"Document Name"}),(0,r.jsx)("th",{className:"p-3 text-left text-red-700 whitespace-nowrap",children:"Type"}),(0,r.jsx)("th",{className:"p-3 text-left text-red-700 whitespace-nowrap",children:"Description"}),(0,r.jsx)("th",{className:"p-3 text-left text-red-700 whitespace-nowrap",children:"Status"}),(0,r.jsx)("th",{className:"p-3 text-left text-red-700 whitespace-nowrap",children:"Department"}),(0,r.jsx)("th",{className:"p-3 text-left text-red-700 whitespace-nowrap",children:"Created"}),(0,r.jsx)("th",{className:"p-3 text-center text-red-700 whitespace-nowrap",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:L.slice().sort((e,t)=>Number(e.id)-Number(t.id)).map((t,s)=>(0,r.jsxs)("tr",{className:"border-t hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("td",{className:"p-3",children:(0,r.jsx)("input",{type:"checkbox",checked:g.has(t.id),onChange:()=>(e=>{let t=new Set(g);t.has(e)?t.delete(e):t.add(e),x(t)})(t.id),className:"rounded border-gray-300"})}),(0,r.jsx)("td",{className:"p-3 whitespace-nowrap",children:t.id}),(0,r.jsx)("td",{className:"p-3 font-medium",children:t.name}),(0,r.jsx)("td",{className:"p-3",children:(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch((e||"").toLowerCase()){case"team":return"bg-blue-100 text-blue-800";case"proposal":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(t.type)),children:t.type||"N/A"})}),(0,r.jsx)("td",{className:"p-3 max-w-[200px] truncate",children:t.description||"N/A"}),(0,r.jsx)("td",{className:"p-3",children:(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t.is_assigned?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:t.is_assigned?"Assigned":"Unassigned"})}),(0,r.jsx)("td",{className:"p-3",children:t.assignedDepartment}),(0,r.jsx)("td",{className:"p-3 whitespace-nowrap",children:(e=>{let t=new Date(e);return"".concat(t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})," | ").concat(t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}))})(t.created_at)}),(0,r.jsx)("td",{className:"p-3 text-center",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)("a",{href:"".concat(e).concat(t.download_url),className:"text-green-600 hover:text-green-800 text-sm",title:"Download",children:(0,r.jsx)(i.WCW,{})}),(0,r.jsx)("span",{className:"text-gray-400",children:"|"}),(0,r.jsx)("button",{onClick:()=>{A(t),v(!0)},className:"text-red-600 hover:text-red-800 text-sm",title:"Delete",children:(0,r.jsx)(i.qbC,{})})]})})]},"".concat(t.id,"-").concat(t.is_assigned?"assigned":"unassigned")))})]})})})]})]}),f&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-red-700 mb-4",children:"Upload New Document"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Document Name *"}),(0,r.jsx)("input",{type:"text",value:B.name,onChange:e=>U({...B,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter document name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),(0,r.jsxs)("select",{value:B.type,onChange:e=>U({...B,type:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,r.jsx)("option",{value:"team",children:"Team"}),(0,r.jsx)("option",{value:"proposal",children:"Proposal"}),(0,r.jsx)("option",{value:"others",children:"Others"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,r.jsx)("textarea",{value:B.description,onChange:e=>U({...B,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter description",rows:3})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Proposal ID"}),(0,r.jsx)("input",{type:"text",value:B.proposal_id,onChange:e=>U({...B,proposal_id:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter proposal ID (optional)"})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700",children:[(0,r.jsx)("input",{type:"checkbox",checked:B.is_bpi,onChange:e=>U({...B,is_bpi:e.target.checked}),className:"mr-2 rounded border-gray-300"}),"BPI Document"]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"File *"}),(0,r.jsx)("input",{type:"file",onChange:e=>{var t;return U({...B,file:(null==(t=e.target.files)?void 0:t[0])||null})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,r.jsx)("button",{onClick:H,className:"flex-1 bg-[#B11016] text-white py-2 rounded-md hover:bg-red-700 transition",children:"Upload Document"}),(0,r.jsx)("button",{onClick:()=>{b(!1),U({name:"",type:"team",description:"",is_bpi:!1,proposal_id:"",file:null})},className:"flex-1 bg-gray-500 text-white py-2 rounded-md hover:bg-gray-600 transition",children:"Cancel"})]})]})}),y&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-red-700 mb-4",children:"Assign to Department"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-4",children:["Assign ",g.size," selected document(s) to a department"]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Department"}),(0,r.jsxs)("select",{value:E,onChange:e=>P(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,r.jsx)("option",{value:"",children:"Choose a department..."}),F.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:M,className:"flex-1 bg-[#B11016] text-white py-2 rounded-md hover:bg-red-700 transition",children:"Assign Documents"}),(0,r.jsx)("button",{onClick:()=>{j(!1),P("")},className:"flex-1 bg-gray-500 text-white py-2 rounded-md hover:bg-gray-600 transition",children:"Cancel"})]})]})}),w&&O&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-red-700 mb-4",children:"Confirm Delete"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-4",children:["Are you sure you want to delete document ",(0,r.jsxs)("span",{className:"font-medium",children:['"',O.name,'"']}),"?"]}),(0,r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:(0,r.jsxs)("p",{className:"text-yellow-800 text-sm",children:[(0,r.jsx)("strong",{children:"Warning:"})," This action cannot be undone. The document file will be permanently removed from the system."]})}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:q,className:"flex-1 bg-red-600 text-white py-2 rounded-md hover:bg-red-700 transition",children:"Delete Document"}),(0,r.jsx)("button",{onClick:()=>{v(!1),A(null)},className:"flex-1 bg-gray-500 text-white py-2 rounded-md hover:bg-gray-600 transition",children:"Cancel"})]})]})})]})}},4436:(e,t,s)=>{"use strict";s.d(t,{k5:()=>d});var r=s(2115),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=r.createContext&&r.createContext(n),l=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach(function(t){var r,n,a;r=e,n=t,a=s[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function d(e){return t=>r.createElement(m,o({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,s)=>r.createElement(t.tag,c({key:s},t.attr),e(t.child)))}(e.child))}function m(e){var t=t=>{var s,{attr:n,size:a,title:i}=e,d=function(e,t){if(null==e)return{};var s,r,n=function(e,t){if(null==e)return{};var s={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;s[r]=e[r]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}(e,l),m=a||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),r.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,d,{className:s,style:c(c({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),i&&r.createElement("title",null,i),e.children)};return void 0!==a?r.createElement(a.Consumer,null,e=>t(e)):t(n)}},9053:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(5155),n=s(5695),a=s(2115);function l(e){let{children:t,allowedRoles:s}=e,l=(0,n.useRouter)(),[o,i]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=sessionStorage.getItem("access_token"),t=sessionStorage.getItem("role");return e&&t?s.includes(t)?void i(!1):void l.push("/"):void l.push("/login")},[l,s]),(0,r.jsx)(r.Fragment,{children:t})}},9460:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(5155),n=s(2115),a=s(5695),l=s(8274);function o(){let e=(0,a.usePathname)(),[t,s]=(0,n.useState)(null),[o,i]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{i(!0),s(sessionStorage.getItem("role"))},[]),o)?(0,r.jsxs)(l.P.aside,{initial:{x:-250,opacity:0},animate:{x:0,opacity:1},exit:{x:-250,opacity:0},transition:{duration:.2,ease:[.25,.1,.25,1]},className:"fixed top-0 left-0 h-screen pl-4 group relative bg-white border-r flex flex-col items-start py-4 space-y-6 w-20 hover:w-56 transition-all duration-300 overflow-hidden z-50",style:{borderRight:"1px solid #e5e7eb"},children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 pl-1 flex-shrink-0",children:[(0,r.jsx)("img",{src:"/logo/synsei_icon.png",alt:"Logo",className:"w-10"}),(0,r.jsx)("span",{className:"text-lg font-bold text-gray-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Synsei"})]}),(0,r.jsx)("nav",{className:"flex flex-col space-y-2 w-[92%] flex-shrink-0",children:("user"===t?[{href:"/dashboard",icon:"/images/Sidebar_home.png",label:"Home"},{href:"/collabapproved",icon:"/images/Folder_check.png",label:"Approved"},{href:"/collabinprocess",icon:"/images/folder-send.png",label:"In Process"},{href:"/collabrejected",icon:"/images/Folder_del.png",label:"Rejected"}]:"employee"===t?[{href:"/bpidashboard",icon:"/images/Sidebar_home.png",label:"Home"},{href:"/bpiapproved",icon:"/images/Folder_check.png",label:"Approved"},{href:"/bpiinprocess",icon:"/images/folder-send.png",label:"In Process"},{href:"/bpirejected",icon:"/images/Folder_del.png",label:"Rejected"},{href:"/bpifilesviewer",icon:"/images/file-view.png",label:"FileViewer"},{href:"/companylist",icon:"/images/building-03.png",label:"Collaborators"},{href:"/bpifindcollab",icon:"/images/peer-to-peer-02.png",label:"Find Collaborators"}]:"admin"===t?[{href:"/admindashboard",icon:"/images/Sidebar_home.png",label:"Home"},{href:"/bpiapproved",icon:"/images/Folder_check.png",label:"Approved"},{href:"/bpiinprocess",icon:"/images/folder-send.png",label:"In Process"},{href:"/bpirejected",icon:"/images/Folder_del.png",label:"Rejected"},{href:"/adminfilesviewer",icon:"/images/file-view.png",label:"FileViewer"},{href:"/companylist",icon:"/images/building-03.png",label:"Collaborators"},{href:"/bpifindcollab",icon:"/images/peer-to-peer-02.png",label:"Find Collaborators"}]:[]).map((t,s)=>(0,r.jsxs)("a",{href:t.href,className:"flex items-center gap-3 rounded-lg transition-all duration-200\n              ".concat(e===t.href?"bg-[#FEC2C5]":"hover:bg-gray-100","\n              px-2 py-2 w-12 group-hover:w-full"),children:[(0,r.jsx)("img",{src:t.icon,alt:t.label,className:"w-8 h-8"}),(0,r.jsx)("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap",children:t.label})]},s))})]}):(0,r.jsxs)(l.P.aside,{initial:{x:-250,opacity:0},animate:{x:0,opacity:1},exit:{x:-250,opacity:0},transition:{duration:.2,ease:[.25,.1,.25,1]},className:"fixed top-0 left-0 h-screen pl-4 group relative bg-white border-r flex flex-col items-start py-4 space-y-6 w-20 hover:w-56 transition-all duration-300 overflow-hidden z-50",style:{borderRight:"1px solid #e5e7eb"},children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 pl-1 flex-shrink-0",children:[(0,r.jsx)("img",{src:"/logo/synsei_icon.png",alt:"Logo",className:"w-10"}),(0,r.jsx)("span",{className:"text-lg font-bold text-gray-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Synsei"})]}),(0,r.jsx)("nav",{className:"flex flex-col space-y-2 w-[92%] flex-shrink-0"})]})}},9963:(e,t,s)=>{Promise.resolve().then(s.bind(s,342))}},e=>{e.O(0,[6711,8324,8441,5964,7358],()=>e(e.s=9963)),_N_E=e.O()}]);