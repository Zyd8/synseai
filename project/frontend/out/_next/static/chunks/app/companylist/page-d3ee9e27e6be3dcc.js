(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3234],{7361:(e,a,r)=>{Promise.resolve().then(r.bind(r,9284))},9053:(e,a,r)=>{"use strict";r.d(a,{A:()=>l});var s=r(5155),t=r(5695),o=r(2115);function l(e){let{children:a,allowedRoles:r}=e,l=(0,t.useRouter)(),[i,n]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{let e=sessionStorage.getItem("access_token"),a=sessionStorage.getItem("role");return e&&a?r.includes(a)?void n(!1):void l.push("/"):void l.push("/login")},[l,r]),(0,s.jsx)(s.Fragment,{children:a})}},9284:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>n});var s=r(5155),t=r(9460),o=r(9053),l=r(2115),i=r(5695);function n(){let e="https://zydev.pythonanywhere.com",[a,r]=(0,l.useState)([]),[n,c]=(0,l.useState)(!0),d=(0,i.useRouter)();return(0,l.useEffect)(()=>{(async()=>{let a=sessionStorage.getItem("access_token");try{let s=await fetch("".concat(e,"/api/company"),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(!s.ok)throw Error("Failed to fetch companies");let t=await s.json();r(Array.isArray(t)?t:[])}catch(e){console.error("Error fetching companies:",e),r([])}finally{c(!1)}})()},[e]),(0,s.jsx)(o.A,{allowedRoles:["employee","admin"],children:(0,s.jsxs)("div",{className:"flex min-h-screen bg-gray-50 overflow-x-hidden",children:[(0,s.jsx)(t.A,{}),(0,s.jsxs)("div",{className:"flex-1 py-3 sm:py-6 pl-[2%] sm:pl-[3%] pr-[3%] sm:pr-[5%] overflow-x-auto",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-red-700",children:"Company List"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1 border-b-3 border-black pb-2 sm:pb-4 border-red-700",children:"Track all the companies that are collaborating with BPI."}),(0,s.jsx)("div",{className:"border border-gray-500 rounded-lg p-5 bg-white drop-shadow-xl mt-5",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:n?(0,s.jsx)("p",{className:"text-center text-gray-500",children:"Loading companies..."}):0===a.length?(0,s.jsx)("p",{className:"text-center text-gray-500",children:"No companies found."}):(0,s.jsxs)("table",{className:"w-full text-sm rounded-lg overflow-hidden min-w-[800px]",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"p-3 text-left text-red-700 whitespace-nowrap",children:"Company ID"}),(0,s.jsx)("th",{className:"p-3 text-left text-red-700 whitespace-nowrap",children:"Company Name"}),(0,s.jsx)("th",{className:"p-3 text-left text-red-700 whitespace-nowrap",children:"Industry"}),(0,s.jsx)("th",{className:"p-3 text-left text-red-700 whitespace-nowrap",children:"Company Size"}),(0,s.jsx)("th",{className:"p-3 text-left text-red-700 whitespace-nowrap",children:"Created Date"}),(0,s.jsx)("th",{className:"p-3 text-center text-red-700 whitespace-nowrap",children:"Action"})]})}),(0,s.jsx)("tbody",{children:a.map((e,a)=>(0,s.jsxs)("tr",{className:"border-t hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{var a;console.log("Navigating to company profile:",a=e.id),d.push("/companyprofile?id=".concat(a))},children:[(0,s.jsx)("td",{className:"p-3 whitespace-nowrap",children:e.id}),(0,s.jsx)("td",{className:"p-3",children:e.name}),(0,s.jsx)("td",{className:"p-3",children:e.industry||"N/A"}),(0,s.jsx)("td",{className:"p-3",children:e.size||"N/A"}),(0,s.jsx)("td",{className:"p-3 whitespace-nowrap",children:(e=>{let a=new Date(e);return"".concat(a.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})," | ").concat(a.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}))})(e.created_at)}),(0,s.jsx)("td",{className:"p-3 text-center",children:(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})})]},a))})]})})})]})]})})}},9460:(e,a,r)=>{"use strict";r.d(a,{A:()=>i});var s=r(5155),t=r(2115),o=r(5695),l=r(8274);function i(){let e=(0,o.usePathname)(),[a,r]=(0,t.useState)(null);return(0,t.useEffect)(()=>{r(sessionStorage.getItem("role"))},[]),(0,s.jsxs)(l.P.aside,{initial:{x:-250,opacity:0},animate:{x:0,opacity:1},exit:{x:-250,opacity:0},transition:{duration:.2,ease:[.25,.1,.25,1]},className:"pl-4 group relative bg-white border-r flex flex-col items-center items-start py-4 space-y-6 h-screen w-20 hover:w-56 transition-all duration-300 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 pl-1",children:[(0,s.jsx)("img",{src:"/logo/synsei_icon.png",alt:"Logo",className:"w-10"}),(0,s.jsx)("span",{className:"text-lg font-bold text-gray-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Synsei"})]}),(0,s.jsx)("nav",{className:"flex flex-col space-y-2 w-[92%]",children:("user"===a?[{href:"/dashboard",icon:"/images/Sidebar_home.png",label:"Home"},{href:"/collabapproved",icon:"/images/Folder_check.png",label:"Approved"},{href:"/collabinprocess",icon:"/images/folder-send.png",label:"In Process"},{href:"/collabrejected",icon:"/images/Folder_del.png",label:"Rejected"}]:"employee"===a?[{href:"/bpidashboard",icon:"/images/Sidebar_home.png",label:"Home"},{href:"/bpiapproved",icon:"/images/Folder_check.png",label:"Approved"},{href:"/bpiinprocess",icon:"/images/folder-send.png",label:"In Process"},{href:"/bpirejected",icon:"/images/Folder_del.png",label:"Rejected"},{href:"/bpifilesviewer",icon:"/images/Folder_del.png",label:"FileViewer"},{href:"/companylist",icon:"/images/building-03.png",label:"Collaborators"},{href:"/bpifindcollab",icon:"/images/peer-to-peer-02.png",label:"Find Collaborators"}]:"admin"===a?[{href:"/admindashboard",icon:"/images/Sidebar_home.png",label:"Home"},{href:"/bpiapproved",icon:"/images/Folder_check.png",label:"Approved"},{href:"/bpiinprocess",icon:"/images/folder-send.png",label:"In Process"},{href:"/bpirejected",icon:"/images/Folder_del.png",label:"Rejected"},{href:"/adminfilesviewer",icon:"/images/Folder_del.png",label:"FileViewer"},{href:"/companylist",icon:"/images/building-03.png",label:"Collaborators"},{href:"/bpifindcollab",icon:"/images/peer-to-peer-02.png",label:"Find Collaborators"}]:[]).map((a,r)=>(0,s.jsxs)("a",{href:a.href,className:"flex items-center gap-3 rounded-lg transition-all duration-200\n              ".concat(e===a.href?"bg-[#FEC2C5]":"hover:bg-gray-100","\n              px-2 py-2 w-12 group-hover:w-full"),children:[(0,s.jsx)("img",{src:a.icon,alt:a.label,className:"w-8 h-8"}),(0,s.jsx)("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap",children:a.label})]},r))})]})}}},e=>{e.O(0,[8324,8441,5964,7358],()=>e(e.s=7361)),_N_E=e.O()}]);