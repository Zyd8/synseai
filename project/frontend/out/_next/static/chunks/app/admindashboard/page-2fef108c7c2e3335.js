(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1582],{2549:(e,t,a)=>{Promise.resolve().then(a.bind(a,7051))},7051:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(5155),r=a(9460),l=a(5695),n=a(2115),i=a(9911),o=a(3227),c=a(4416);function d(e){let{isOpen:t,onClose:a,onSuccess:r,apiUrl:l}=e,[i,d]=(0,n.useState)(""),[m,x]=(0,n.useState)(!1),[h,p]=(0,n.useState)(null),g=async()=>{if(!i.trim())return void p("Department name is required.");let e=sessionStorage.getItem("access_token");if(!e)return void p("Unauthorized: Please log in again.");try{x(!0),p(null);let t=await fetch("".concat(l,"/api/department"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({name:i})});if(!t.ok){let e=await t.json();p(e.error||"Failed to create department."),x(!1);return}await t.json(),d(""),r(),a()}catch(e){p("Something went wrong.")}finally{x(!1)}};return t?(0,s.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm",onClick:a}),(0,s.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 transform transition-all duration-300 ease-out scale-100 opacity-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)(o.A,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Create Department"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Add a new department to your organization"})]})]}),(0,s.jsx)("button",{onClick:a,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors duration-200",disabled:m,children:(0,s.jsx)(c.A,{className:"w-5 h-5 text-gray-400"})})]}),(0,s.jsxs)("div",{className:"p-6",children:[h&&(0,s.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-red-50 border border-red-200",children:(0,s.jsx)("p",{className:"text-red-600 text-sm font-medium",children:h})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"department-name",className:"block text-sm font-medium text-gray-700",children:"Department Name"}),(0,s.jsx)("input",{id:"department-name",type:"text",value:i,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"!==e.key||m||g(),"Escape"===e.key&&a()},placeholder:"e.g., Human Resources, IT, Marketing",className:"w-full border border-gray-300 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200 placeholder-gray-400",disabled:m,autoFocus:!0})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:[(0,s.jsx)("button",{onClick:a,className:"px-6 py-2.5 rounded-xl text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:m,children:"Cancel"}),(0,s.jsx)("button",{onClick:g,className:"px-6 py-2.5 rounded-xl text-sm font-medium text-white bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none",disabled:m||!i.trim(),children:m?(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,s.jsx)("span",{children:"Creating..."})]}):"Create Department"})]})]})]}):null}var m=a(7580),x=a(4229),h=a(4940),p=a(2525);function g(e){let{isOpen:t,onClose:a,apiUrl:r,onSuccess:l}=e,[i,d]=(0,n.useState)([]),[g,u]=(0,n.useState)(!1),[b,f]=(0,n.useState)(null),[y,j]=(0,n.useState)(""),[N,v]=(0,n.useState)(null),w=sessionStorage.getItem("access_token");(0,n.useEffect)(()=>{t&&k()},[t]);let k=async()=>{u(!0);try{let e=await fetch("".concat(r,"/api/department"),{headers:{Authorization:"Bearer ".concat(w)}}),t=await e.json();d(t.departments||[])}catch(e){console.error("Failed to load departments:",e)}finally{u(!1)}},C=()=>{f(null),j("")},S=async e=>{if(y.trim())try{let t=await fetch("".concat(r,"/api/department/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(w)},body:JSON.stringify({name:y})});t.ok?(await k(),f(null),j(""),l()):console.error("Update failed:",await t.json())}catch(e){console.error(e)}},D=async e=>{try{let t=await fetch("".concat(r,"/api/department/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(w)}});t.ok?(await k(),l(),v(null)):console.error("Delete failed:",await t.json())}catch(e){console.error(e)}};return t?(0,s.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm",onClick:a}),(0,s.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-4 max-h-[85vh] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)(o.A,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Manage Departments"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[i.length," department",1!==i.length?"s":""," in your organization"]})]})]}),(0,s.jsx)("button",{onClick:a,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors duration-200",children:(0,s.jsx)(c.A,{className:"w-5 h-5 text-gray-400"})})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:g?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-6 h-6 border-2 border-red-500/30 border-t-red-500 rounded-full animate-spin"}),(0,s.jsx)("span",{className:"text-gray-500",children:"Loading departments..."})]})}):0===i.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(m.A,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500 text-lg font-medium",children:"No departments found"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Create your first department to get started"})]}):(0,s.jsx)("div",{className:"space-y-3",children:i.map(e=>(0,s.jsx)("div",{className:"group border border-gray-200 rounded-xl p-4 hover:border-gray-300 hover:shadow-sm transition-all duration-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-gray-200 transition-colors duration-200",children:(0,s.jsx)(o.A,{className:"w-4 h-4 text-gray-600"})}),b===e.id?(0,s.jsx)("div",{className:"flex-1 flex items-center space-x-3 pr-3",children:(0,s.jsx)("input",{value:y,onChange:e=>j(e.target.value),onKeyDown:t=>{var a;return a=e.id,void("Enter"===t.key&&S(a),"Escape"===t.key&&C())},className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Department name",autoFocus:!0})}):(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Created ",new Date(e.created_at).toLocaleDateString()]})]})]}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:b===e.id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>S(e.id),disabled:!y.trim(),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-green-100 text-green-600 hover:bg-green-200 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Save changes",children:(0,s.jsx)(x.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:C,className:"w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors duration-200",title:"Cancel editing",children:(0,s.jsx)(c.A,{className:"w-4 h-4"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>{f(e.id),j(e.name)},className:"w-8 h-8 flex items-center justify-center rounded-lg bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors duration-200 opacity-0 group-hover:opacity-100",title:"Edit department",children:(0,s.jsx)(h.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>v(e.id),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition-colors duration-200 opacity-0 group-hover:opacity-100",title:"Delete department",children:(0,s.jsx)(p.A,{className:"w-4 h-4"})})]})})]})},e.id))})}),(0,s.jsx)("div",{className:"flex justify-end p-6 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:(0,s.jsx)("button",{onClick:a,className:"px-6 py-2.5 rounded-xl text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:"Close"})})]}),N&&(0,s.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-60",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,s.jsx)("div",{className:"relative bg-white rounded-2xl shadow-2xl p-6 mx-4 max-w-sm w-full",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(p.A,{className:"w-6 h-6 text-red-600"})}),(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete Department"}),(0,s.jsx)("p",{className:"text-gray-500 mb-6",children:"Are you sure you want to delete this department? This action cannot be undone."}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:()=>v(null),className:"flex-1 px-4 py-2.5 rounded-xl text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>D(N),className:"flex-1 px-4 py-2.5 rounded-xl text-sm font-medium text-white bg-red-600 hover:bg-red-700 transition-colors duration-200",children:"Delete"})]})]})})]})]}):null}function u(){let e=(0,l.useRouter)(),t="http://localhost:5000",[a,o]=(0,n.useState)([]),[c,m]=(0,n.useState)([]),[x,h]=(0,n.useState)([]),[p,u]=(0,n.useState)(!0),[b,f]=(0,n.useState)(null),[y,j]=(0,n.useState)([]),[N,v]=(0,n.useState)(null),[w,k]=(0,n.useState)(!1),[C,S]=(0,n.useState)(!1),[D,A]=(0,n.useState)({totalUsers:0,totalCollaborators:0,totalEmployees:0,totalAdmins:0,totalDocuments:0,totalDepartments:0});(0,n.useEffect)(()=>{(async()=>{let e=sessionStorage.getItem("access_token");if(!e){v("No access token found. Please login again."),u(!1);return}try{v(null);let r=[];try{let a=await fetch("".concat(t,"/api/user"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(a.ok){let e=await a.json();console.log("Fetched users:",e),r=Array.isArray(e)?e:[]}else console.warn("Failed to fetch users:",a.status)}catch(e){console.warn("Could not fetch users:",e)}o(r);let l=[];try{let s=await fetch("".concat(t,"/api/department"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(s.ok){var a;l=null!=(a=(await s.json()).departments)?a:[]}else console.warn("Failed to fetch departments:",s.status)}catch(e){console.warn("Could not fetch departments:",e)}m(l);let n=[];try{let a=await fetch("".concat(t,"/api/document/get_all"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(a.ok){let e=await a.json();n=Array.isArray(e)?e:[]}}catch(e){console.warn("Could not fetch documents:",e)}h(n);let c=r.filter(e=>"user"===e.role),d=r.filter(e=>"employee"===e.role),x=r.filter(e=>"admin"===e.role);A({totalUsers:r.length,totalCollaborators:c.length,totalEmployees:d.length,totalAdmins:x.length,totalDocuments:n.length,totalDepartments:l.length});let p=[...c.slice(0,2).map(e=>({type:"user",title:"New collaborator registered: ".concat(e.full_name||"".concat(e.first_name," ").concat(e.last_name)),description:"Email: ".concat(e.email," | Position: ").concat(e.position||"Not specified"),timestamp:e.created_at||new Date().toISOString(),icon:(0,s.jsx)(i.YXz,{className:"text-2xl"})})),...d.slice(0,2).map(e=>({type:"employee",title:"New employee registered: ".concat(e.full_name||"".concat(e.first_name," ").concat(e.last_name)),description:"Email: ".concat(e.email," | Position: ").concat(e.position||"Not specified"),timestamp:e.created_at||new Date().toISOString(),icon:(0,s.jsx)(i.p7b,{className:"text-3xl text-purple-600 mb-2"})})),...n.slice(0,2).map(e=>({type:"document",title:"Document uploaded: ".concat(e.name||"Untitled"),description:"Type: ".concat(e.type||"Unknown"),timestamp:e.created_at||new Date().toISOString(),icon:(0,s.jsx)(i.t69,{className:"text-2xl"})})),...l.slice(0,1).map(e=>({type:"department",title:"Department: ".concat(e.name),description:"".concat(e.employee_count||0," employees"),timestamp:e.created_at||new Date().toISOString(),icon:(0,s.jsx)(i.ymh,{className:"text-2xl"})}))].sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()).slice(0,5);j(p)}catch(e){console.error("Error fetching data:",e),v(e instanceof Error?e.message:"An error occurred while fetching data")}finally{u(!1)}})()},[t]);let _=[{title:"Users & Roles",icon:(0,s.jsx)(i.YXz,{className:"text-2xl"}),actions:[{name:"Manage Users",action:"manage-users"}]},{title:"Departments",icon:(0,s.jsx)(i.ymh,{className:"text-2xl"}),actions:[{name:"Create Department",action:"create-department"},{name:"Manage Departments",action:"manage-departments"}]},{title:"Documents",icon:(0,s.jsx)(i.t69,{className:"text-2xl"}),actions:[{name:"Manage Documents",action:"manage-documents"},{name:"Assign Document to Departments",action:"assign-document"}]}],E=()=>{u(!0),window.location.reload()},F=()=>{};return p?(0,s.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,s.jsx)(r.A,{}),(0,s.jsx)("main",{className:"flex-1 py-6 pl-[3%] pr-[5%]",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-700 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading dashboard data..."})]})})})]}):N?(0,s.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,s.jsx)(r.A,{}),(0,s.jsx)("main",{className:"flex-1 py-6 pl-[3%] pr-[5%]",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsxs)("div",{className:"text-center bg-white p-6 rounded-lg shadow-lg",children:[(0,s.jsx)("div",{className:"text-red-500 text-xl mb-4",children:"⚠️"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Error Loading Data"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:N}),(0,s.jsx)("button",{onClick:E,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition",children:"Retry"})]})})})]}):(0,s.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,s.jsx)(r.A,{}),(0,s.jsxs)("main",{className:"flex-1 py-3 sm:py-6 pl-[2%] sm:pl-[3%] pr-[3%] sm:pr-[5%]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between border-b-[3px] border-red-700 pb-2 sm:pb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-red-700",children:"Super Admin Dashboard"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Manage users, departments, documents and system-wide settings."})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:E,className:"bg-[#B11016] border-2 text-white px-4 py-2 rounded-md hover:bg-white hover:border-[#B11016] hover:text-[#B11016] transition",children:"Refresh"}),(0,s.jsx)("button",{onClick:()=>e.push("/super-admin/system-settings"),className:"bg-gray-600 border-2 border-gray-600 text-white px-4 py-2 rounded-md hover:bg-white hover:text-gray-600 transition",children:"System Settings"})]})]}),(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-1 mt-6",children:"System Overview"}),(0,s.jsx)("div",{className:"mt-6 bg-white rounded-lg drop-shadow-lg border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-4",children:[(0,s.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg flex flex-col items-center",children:[(0,s.jsx)(i.YXz,{className:"text-3xl text-blue-600 mb-2"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:D.totalUsers}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Total Users"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg flex flex-col items-center",children:[(0,s.jsx)(i.M5n,{className:"text-3xl text-green-600 mb-2"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:D.totalCollaborators}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Collaborators"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg flex flex-col items-center",children:[(0,s.jsx)(i.p7b,{className:"text-3xl text-purple-600 mb-2"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:D.totalEmployees}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Employees"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg flex flex-col items-center",children:[(0,s.jsx)(i.e7y,{className:"text-3xl text-yellow-500 mb-2"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-500",children:D.totalAdmins}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Admins"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg flex flex-col items-center",children:[(0,s.jsx)(i.t69,{className:"text-3xl text-orange-600 mb-2"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:D.totalDocuments}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Documents"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg flex flex-col items-center",children:[(0,s.jsx)(i.ymh,{className:"text-3xl text-red-600 mb-2"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-red-600",children:D.totalDepartments}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Departments"})]})]})}),(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Management Center"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:_.map((t,a)=>(0,s.jsxs)("div",{className:"bg-white rounded-lg drop-shadow-lg border border-gray-200 overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-[#B11016] text-white p-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"text-2xl",children:t.icon}),(0,s.jsx)("h3",{className:"text-lg font-semibold",children:t.title})]})}),(0,s.jsx)("div",{className:"p-4 space-y-2",children:t.actions.map((t,a)=>(0,s.jsx)("button",{onClick:()=>(t=>{switch(f(b===t?null:t),console.log("Navigating to: ".concat(t)),t){case"assign-role":e.push("/super-admin/assign-role");break;case"manage-users":e.push("/adminusermanagement");break;case"create-department":if("create-department"===t)return void k(!0);case"assign-employee":e.push("/super-admin/assign-employee");break;case"manage-departments":S(!0);break;case"upload-document":e.push("/super-admin/upload-document");break;case"assign-document":e.push("/adminassigndocument");break;case"manage-documents":e.push("/admindocumentmanagement");break;default:console.log("Action ".concat(t," not implemented yet"))}})(t.action),className:"w-full text-left px-4 py-3 rounded-md border border-gray-200 hover:border-red-300 hover:bg-red-50 hover:text-red-700 transition-all duration-200 group",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:t.name}),(0,s.jsx)("span",{className:"text-gray-400 group-hover:text-red-600 transition-colors",children:"→"})]})},a))})]},a))})]}),y.length>0&&(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Recent Activities"}),(0,s.jsx)("div",{className:"bg-white rounded-lg drop-shadow-lg border border-gray-200 p-6",children:(0,s.jsx)("div",{className:"space-y-4",children:y.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start space-x-3 p-3 border-l-4 border-gray-200 bg-gray-50 rounded-r-lg",children:[(0,s.jsx)("span",{className:"text-lg",children:e.icon}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-800",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[new Date(e.timestamp).toLocaleDateString()," at"," ",new Date(e.timestamp).toLocaleTimeString()]})]})]},t))})})]})]}),(0,s.jsx)(d,{isOpen:w,onClose:()=>k(!1),onSuccess:F,apiUrl:t}),(0,s.jsx)(g,{isOpen:C,onClose:()=>S(!1),onSuccess:F,apiUrl:t})]})}},9460:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var s=a(5155),r=a(2115),l=a(5695),n=a(8274);function i(){let e=(0,l.usePathname)(),[t,a]=(0,r.useState)(null);return(0,r.useEffect)(()=>{a(sessionStorage.getItem("role"))},[]),(0,s.jsxs)(n.P.aside,{initial:{x:-250,opacity:0},animate:{x:0,opacity:1},exit:{x:-250,opacity:0},transition:{duration:.2,ease:[.25,.1,.25,1]},className:"pl-4 group relative bg-white border-r flex flex-col items-center items-start py-4 space-y-6 h-screen w-20 hover:w-56 transition-all duration-300 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 pl-1",children:[(0,s.jsx)("img",{src:"/logo/synsei_icon.png",alt:"Logo",className:"w-10"}),(0,s.jsx)("span",{className:"text-lg font-bold text-gray-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Synsei"})]}),(0,s.jsx)("nav",{className:"flex flex-col space-y-2 w-[92%]",children:("user"===t?[{href:"/dashboard",icon:"/images/Sidebar_home.png",label:"Home"},{href:"/collabapproved",icon:"/images/Folder_check.png",label:"Approved"},{href:"/collabinprocess",icon:"/images/folder-send.png",label:"In Process"},{href:"/collabrejected",icon:"/images/Folder_del.png",label:"Rejected"}]:"employee"===t?[{href:"/bpidashboard",icon:"/images/Sidebar_home.png",label:"Home"},{href:"/bpiapproved",icon:"/images/Folder_check.png",label:"Approved"},{href:"/bpiinprocess",icon:"/images/folder-send.png",label:"In Process"},{href:"/bpirejected",icon:"/images/Folder_del.png",label:"Rejected"},{href:"/bpifilesviewer",icon:"/images/Folder_del.png",label:"FileViewer"},{href:"/companylist",icon:"/images/building-03.png",label:"Collaborators"},{href:"/bpifindcollab",icon:"/images/peer-to-peer-02.png",label:"Find Collaborators"}]:"admin"===t?[{href:"/admindashboard",icon:"/images/Sidebar_home.png",label:"Home"},{href:"/bpiapproved",icon:"/images/Folder_check.png",label:"Approved"},{href:"/bpiinprocess",icon:"/images/folder-send.png",label:"In Process"},{href:"/bpirejected",icon:"/images/Folder_del.png",label:"Rejected"},{href:"/adminfilesviewer",icon:"/images/Folder_del.png",label:"FileViewer"},{href:"/companylist",icon:"/images/building-03.png",label:"Collaborators"},{href:"/bpifindcollab",icon:"/images/peer-to-peer-02.png",label:"Find Collaborators"}]:[]).map((t,a)=>(0,s.jsxs)("a",{href:t.href,className:"flex items-center gap-3 rounded-lg transition-all duration-200\n              ".concat(e===t.href?"bg-[#FEC2C5]":"hover:bg-gray-100","\n              px-2 py-2 w-12 group-hover:w-full"),children:[(0,s.jsx)("img",{src:t.icon,alt:t.label,className:"w-8 h-8"}),(0,s.jsx)("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap",children:t.label})]},a))})]})}}},e=>{e.O(0,[6711,8324,2255,8441,5964,7358],()=>e(e.s=2549)),_N_E=e.O()}]);