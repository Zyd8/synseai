(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{760:(e,t,a)=>{"use strict";a.d(t,{N:()=>y});var s=a(5155),i=a(2115),n=a(869),r=a(2885),o=a(7494),l=a(845),c=a(7351),d=a(1508);class u extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,a=(0,c.s)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m(e){let{children:t,isPresent:a,anchorX:n,root:r}=e,o=(0,i.useId)(),l=(0,i.useRef)(null),c=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=(0,i.useContext)(d.Q);return(0,i.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:i,right:d}=c.current;if(a||!l.current||!e||!t)return;l.current.dataset.motionPopId=o;let u=document.createElement("style");m&&(u.nonce=m);let p=null!=r?r:document.head;return p.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===n?"left: ".concat(i):"right: ".concat(d),"px !important;\n            top: ").concat(s,"px !important;\n          }\n        ")),()=>{p.contains(u)&&p.removeChild(u)}},[a]),(0,s.jsx)(u,{isPresent:a,childRef:l,sizeRef:c,children:i.cloneElement(t,{ref:l})})}let p=e=>{let{children:t,initial:a,isPresent:n,onExitComplete:o,custom:c,presenceAffectsLayout:d,mode:u,anchorX:p,root:x}=e,f=(0,r.M)(h),g=(0,i.useId)(),y=!0,b=(0,i.useMemo)(()=>(y=!1,{id:g,initial:a,isPresent:n,custom:c,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;o&&o()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[n,f,o]);return d&&y&&(b={...b}),(0,i.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[n]),i.useEffect(()=>{n||f.size||!o||o()},[n]),"popLayout"===u&&(t=(0,s.jsx)(m,{isPresent:n,anchorX:p,root:x,children:t})),(0,s.jsx)(l.t.Provider,{value:b,children:t})};function h(){return new Map}var x=a(2082);let f=e=>e.key||"";function g(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}let y=e=>{let{children:t,custom:a,initial:l=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:u="sync",propagate:m=!1,anchorX:h="left",root:y}=e,[b,v]=(0,x.xQ)(m),w=(0,i.useMemo)(()=>g(t),[t]),j=m&&!b?[]:w.map(f),N=(0,i.useRef)(!0),P=(0,i.useRef)(w),S=(0,r.M)(()=>new Map),[k,C]=(0,i.useState)(w),[E,_]=(0,i.useState)(w);(0,o.E)(()=>{N.current=!1,P.current=w;for(let e=0;e<E.length;e++){let t=f(E[e]);j.includes(t)?S.delete(t):!0!==S.get(t)&&S.set(t,!1)}},[E,j.length,j.join("-")]);let M=[];if(w!==k){let e=[...w];for(let t=0;t<E.length;t++){let a=E[t],s=f(a);j.includes(s)||(e.splice(t,0,a),M.push(a))}return"wait"===u&&M.length&&(e=M),_(g(e)),C(w),null}let{forceRender:I}=(0,i.useContext)(n.L);return(0,s.jsx)(s.Fragment,{children:E.map(e=>{let t=f(e),i=(!m||!!b)&&(w===E||j.includes(t));return(0,s.jsx)(p,{isPresent:i,initial:(!N.current||!!l)&&void 0,custom:a,presenceAffectsLayout:d,mode:u,root:y,onExitComplete:i?void 0:()=>{if(!S.has(t))return;S.set(t,!0);let e=!0;S.forEach(t=>{t||(e=!1)}),e&&(null==I||I(),_(P.current),m&&(null==v||v()),c&&c())},anchorX:h,children:e},t)})})}},1767:(e,t,a)=>{Promise.resolve().then(a.bind(a,9690))},9690:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(5155),i=a(2115),n=a(6874),r=a.n(n),o=a(5695),l=a(8274),c=a(760),d=a(9911);function u(){let e="https://www.teampandas.com",[t,a]=(0,i.useState)(""),[n,u]=(0,i.useState)(""),[p,h]=(0,i.useState)(null),[x,f]=(0,i.useState)("error"),[g,y]=(0,i.useState)(!1),[b,v]=(0,i.useState)(""),[w,j]=(0,i.useState)(""),N=(0,o.useRouter)(),P=async a=>{if(a.preventDefault(),!t.trim()||!n.trim()){h("Please fill in all required fields."),f("error");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){h("Please enter a valid email address."),f("error");return}try{let a=await fetch("".concat(e,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}),i=await a.json();if(a.ok&&i.access_token){var s;sessionStorage.setItem("access_token",i.access_token),i.user&&(sessionStorage.setItem("user",JSON.stringify(i.user)),sessionStorage.setItem("user_id",i.user.id.toString()),null!==i.user.department_id&&void 0!==i.user.department_id&&sessionStorage.setItem("department_id",i.user.department_id.toString()));let t=null==(s=i.user)?void 0:s.role;if(t){sessionStorage.setItem("role",t),j(t),v("Login successful! Welcome back!"),y(!0);let a=i.access_token,s=await fetch("".concat(e,"/api/company"),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});setTimeout(()=>{if(!s.ok)return void N.replace("/collabhome");"user"===t?N.push("/dashboard"):"employee"===t?N.push("/bpidashboard"):"admin"===t?N.push("/admindashboard"):N.push("/collabhome")},2500)}else h("No role found, redirecting..."),f("error"),setTimeout(()=>N.push("/collabhome"),1e3)}else h(i.message||"Login failed. Please check your credentials."),f("error")}catch(e){console.error("Login error:",e),h(e.message||"An error occurred during login."),f("error")}},S=()=>{y(!1)},k={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.25,.1,.25,1],staggerChildren:.15}}},C={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}}};return(0,s.jsxs)("div",{className:"min-h-screen bg-white flex flex-col items-center px-4 py-6 sm:py-8",children:[(0,s.jsx)(l.P.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.7,ease:[.25,.1,.25,1]},className:"mb-6 sm:mb-8",children:(0,s.jsx)("img",{src:"/logo/main_logo.png",alt:"SynseAI",className:"h-auto w-32 sm:w-40 md:w-48 mx-auto pt-6"})}),(0,s.jsxs)(l.P.div,{variants:k,initial:"hidden",animate:"visible",className:"w-full max-w-6xl flex flex-col lg:flex-row justify-between items-center gap-6 lg:gap-8",children:[(0,s.jsx)(l.P.div,{variants:C,className:"w-full lg:w-1/2 order-1 lg:order-2",children:(0,s.jsx)(l.P.img,{src:"/images/loginbanner.png",alt:"Login Illustration",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,ease:[.25,.1,.25,1]},className:"w-full h-auto object-contain max-w-md mx-auto lg:max-w-none"})}),(0,s.jsx)(l.P.div,{variants:C,className:"w-full lg:w-1/2 max-w-md lg:max-w-lg order-2 lg:order-1 px-6 sm:px-10 lg:px-8 py-2",children:(0,s.jsxs)(l.P.div,{variants:k,className:"space-y-6",children:[p&&"error"===x&&(0,s.jsx)(l.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"px-4 py-2 rounded-md text-white text-sm sm:text-base font-medium bg-red-500",children:p}),(0,s.jsxs)(l.P.div,{variants:C,children:[(0,s.jsx)("label",{className:"block text-sm sm:text-base font-medium text-[#B11016] mb-2",children:"EMAIL"}),(0,s.jsxs)("div",{className:"relative w-full group",children:[(0,s.jsx)("input",{type:"text",value:t,onChange:e=>a(e.target.value),placeholder:"Enter your email",className:"appearance-none w-full px-0 py-3 border-0 placeholder-gray-400 text-gray-900 bg-transparent focus:outline-none text-sm sm:text-base"}),(0,s.jsx)("div",{className:"absolute left-0 bottom-0 w-full h-[2px] bg-gray-300"}),(0,s.jsx)("div",{className:"absolute left-0 bottom-0 h-[2px] bg-[#B11016] transition-transform duration-300 ease-in-out origin-center scale-x-0 w-full group-focus-within:scale-x-100"})]})]}),(0,s.jsxs)(l.P.div,{variants:C,children:[(0,s.jsx)("label",{className:"block text-sm sm:text-base font-medium text-[#B11016] mb-2",children:"PASSWORD"}),(0,s.jsxs)("div",{className:"relative w-full group",children:[(0,s.jsx)("input",{type:"password",value:n,onChange:e=>u(e.target.value),placeholder:"Enter your password",className:"appearance-none w-full px-0 py-3 border-0 placeholder-gray-400 text-gray-900 bg-transparent focus:outline-none text-sm sm:text-base"}),(0,s.jsx)("div",{className:"absolute left-0 bottom-0 w-full h-[2px] bg-gray-300"}),(0,s.jsx)("div",{className:"absolute left-0 bottom-0 h-[2px] bg-[#B11016] transition-transform duration-300 ease-in-out origin-center scale-x-0 w-full group-focus-within:scale-x-100"})]})]}),(0,s.jsx)(l.P.div,{variants:C,className:"text-left mt-0",children:(0,s.jsx)("a",{className:"text-sm sm:text-md text-[#B11016] hover:text-red-500 font-medium cursor-pointer transition-colors duration-200",children:"Forgot password?"})}),(0,s.jsx)(l.P.button,{type:"button",onClick:P,whileHover:{scale:1.05},whileTap:{scale:.95},className:"mt-8 sm:mt-15 w-full flex justify-center py-3 sm:py-3 px-3 border border-transparent rounded-md text-sm font-bold text-white bg-[#B11016] hover:text-[#B11016] hover:bg-white hover:border-[#B11016] transition-all duration-300 ease-in-out text-base sm:text-lg",children:"LOGIN"}),(0,s.jsx)(l.P.div,{variants:C,className:"text-center pt-0",children:(0,s.jsxs)("span",{className:"text-sm sm:text-md text-gray-600",children:["Don't have an account?"," ",(0,s.jsx)("span",{className:"font-medium text-[#B11016] hover:text-red-500 underline cursor-pointer transition-colors duration-200",children:(0,s.jsx)(r(),{href:"/signup",children:"Register now"})})]})})]})})]}),(0,s.jsx)(c.N,{children:g&&(0,s.jsxs)(l.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[(0,s.jsx)(m,{show:g}),(0,s.jsx)(l.P.div,{className:"absolute inset-0 bg-black/30 backdrop-blur-sm",onClick:S,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),(0,s.jsx)(l.P.div,{className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",stiffness:200,damping:20},children:(0,s.jsxs)("div",{className:"p-8 text-center",children:[(0,s.jsxs)("div",{className:"relative mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-6",children:[(0,s.jsx)(l.P.div,{className:"absolute inset-0 bg-green-200 rounded-full",animate:{scale:[1,1.5,2],opacity:[.3,.1,0]},transition:{duration:2,repeat:1/0,ease:"easeOut"}}),(0,s.jsx)(l.P.div,{className:"absolute inset-0 bg-green-200 rounded-full",animate:{scale:[1,1.5,2],opacity:[.3,.1,0]},transition:{duration:2,repeat:1/0,ease:"easeOut",delay:.5}}),(0,s.jsx)(d.A7C,{className:"text-green-600 text-2xl relative z-10"})]}),(0,s.jsx)(l.P.h3,{className:"text-2xl font-bold text-gray-900 mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.4},children:"Login Successful!"}),(0,s.jsx)(l.P.p,{className:"text-gray-600 mb-8 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.4},children:b}),(0,s.jsx)(l.P.div,{className:"space-y-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.4},children:(0,s.jsx)("button",{onClick:S,className:"w-full bg-[#B11016] text-white py-3 px-6 rounded-lg font-semibold hover:bg-[#800b10] transition-colors transform hover:scale-105 active:scale-95",children:"Continue to Dashboard"})})]})})]})})]})}let m=e=>{let{show:t}=e,[a,n]=(0,i.useState)([]);return((0,i.useEffect)(()=>{if(t){n(Array.from({length:50},(e,t)=>({id:t,x:100*Math.random(),rotation:360*Math.random(),color:["#ff6b6b","#4ecdc4","#45b7d1","#f9ca24","#6c5ce7","#a29bfe","#fd79a8","#00b894","#e84393"][Math.floor(9*Math.random())],size:8*Math.random()+4,drift:(Math.random()-.5)*2})));let e=setTimeout(()=>n([]),3e3);return()=>clearTimeout(e)}},[t]),t&&0!==a.length)?(0,s.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden",children:a.map(e=>(0,s.jsx)(l.P.div,{className:"absolute rounded-sm",style:{backgroundColor:e.color,width:"".concat(e.size,"px"),height:"".concat(e.size,"px"),left:"".concat(e.x,"%")},initial:{y:-20,opacity:1},animate:{y:window.innerHeight+100,x:100*e.drift,rotate:720,opacity:0},transition:{duration:3,ease:"easeOut",delay:.5*Math.random()}},e.id))}):null}}},e=>{e.O(0,[6711,8324,2995,8441,5964,7358],()=>e(e.s=1767)),_N_E=e.O()}]);